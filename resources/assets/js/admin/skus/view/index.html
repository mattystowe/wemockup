<div ng-controller="SkusViewController as vm">


  <div class="modal fade" id="addProc">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Add Processing Stage</h4>
        </div>

        <div class="modal-body">


          <form class="form-horizontal">

            <div class="form-group">
              <label for="name" class="col-md-2 control-label">Stage</label>
              <div class="col-md-10">
                <select class="form-control" ng-model="vm.newpostproc.id" ng-options="postproc.id as postproc.name for postproc in vm.availablePostProcs">
                  <option value="">
                    Select Processing Stage
                  </option>
                </select>
              </div>
            </div>


            </form>



        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success" id="saveProductBtn" ng-click="vm.saveNewProc();">Save</button>
        </div>
      </div>

    </div>
  </div>





  <div class="modal fade" id="addTestOrder">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Create Manual Order</h4>
        </div>

        <div class="modal-body">


          <form class="form-horizontal">

            <div class="form-group">
              <label for="name" class="col-md-2 control-label">Email</label>
              <div class="col-md-10">
                <input class="form-control" type="text" name="email" ng-model="vm.testorder.email" />
              </div>
            </div>
            <div class="form-group">
              <label for="name" class="col-md-2 control-label">Firstname</label>
              <div class="col-md-10">
                <input class="form-control" type="text" name="email" ng-model="vm.testorder.firstname" />
              </div>
            </div>
            <div class="form-group">
              <label for="name" class="col-md-2 control-label">Lastname</label>
              <div class="col-md-10">
                <input class="form-control" type="text" name="email" ng-model="vm.testorder.lastname" />
              </div>
            </div>


            </form>



        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success" id="saveTestOrderBtn" ng-click="vm.saveTestOrder();">Save</button>
        </div>
      </div>

    </div>
  </div>



  <ol class="breadcrumb">
    <li><a ui-sref="products.view({productid: vm.sku.product.id})">{{vm.sku.product.name}}</a></li>
    <li class="active">SKU: {{vm.sku.id}} - {{vm.sku.name}}</li>
  </ol>


  <div>
    <p>
      {{vm.sku.id}} - {{vm.sku.name}}<br />
      {{vm.sku.description}} <br />
      <strong>Frame Configuration: </strong>{{vm.sku.frameconfig.name}}
      <small>
        <strong>Dim x: </strong>{{vm.sku.frameconfig.dimx}}
        <strong>Dim y: </strong>{{vm.sku.frameconfig.dimy}}
      </small>
    </p>
    <button class="btn btn-xs btn-default" ng-click="vm.newTestOrder();">
      <span class="glyphicon glyphicon-send"></span> Manual Order
    </button>
  </div>

  <hr />

  <h3>
    Post Processing Stages
  </h3>
  <button class="btn btn-success btn" ng-click="vm.addPostProc();"><span class="glyphicon glyphicon-plus"></span> Add Stage</button>


  <ul data-as-sortable="vm.dragControlListeners" data-ng-model="vm.sku.postprocs" class="list-unstyled">
    <li ng-repeat="postproc in vm.sku.postprocs" data-as-sortable-item>


          <div class="panel panel-default">
            <div class="panel-heading">
              <a><span data-as-sortable-item-handle class="glyphicon glyphicon-move"></span></a>
              {{postproc.name}}
              <span class="pull-right">
                <button class="btn btn-xs btn-danger" ng-click="vm.removePostProc(postproc, $index);"><span class="glyphicon glyphicon-remove"></span></button>
              </span>
            </div>
            <div class="panel-body">
              <strong>Job:</strong> {{postproc.jobname}}
            </div>
          </div>

    </li>
  </ul>


</div>
