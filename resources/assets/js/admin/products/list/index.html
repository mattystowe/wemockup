
<div class="modal fade" id="addModal">
  <div class="modal-dialog">

    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Product</h4>
      </div>

      <div class="modal-body">

        <form class="form-horizontal">
          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Name</label>
            <div class="col-md-10">
              <input ng-model="vm.newproduct.name"  type="text" class="form-control" placeholder="Name" value="{{vm.newproduct.name}}">
            </div>
          </div>

          <hr />
          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Description</label>
            <div class="col-md-10">
            <textarea class="form-control" ng-model="vm.newproduct.description"></textarea>
          </div>
          </div>
          <hr />


          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Category</label>
            <div class="col-md-10">
              <select class="form-control" ng-model="vm.newproduct.category_id" ng-options="category.id as category.name for category in vm.availableCategories">
                <option value="">
                  Select Category
                </option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Type</label>
            <div class="col-md-10">
              <select class="form-control" ng-model="vm.newproduct.type_id"  ng-options="type.id as type.name for type in vm.availableTypes">
                <option value="">
                  Select Product Type
                </option>
              </select>
            </div>
          </div>


          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Start Frame</label>
            <div class="col-md-10">
              <input ng-model="vm.newproduct.frame_start"  type="text" class="form-control" placeholder="Start frame" value="{{vm.newproduct.frame_start}}">
            </div>
          </div>
          <div class="form-group">
            <label for="name" class="col-md-2 control-label">End Frame</label>
            <div class="col-md-10">
              <input ng-model="vm.newproduct.frame_end"  type="text" class="form-control" placeholder="Start frame" value="{{vm.newproduct.frame_end}}">
            </div>
          </div>

          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Thumb Image</label>
            <div class="col-md-10">
              <filepickermodal
                pickerclass="btn btn-info"
                iconclass="glyphicon glyphicon-picture"
                buttontext="Upload and crop image"
                multiple="false"
                folders="false"
                mimetypes="image/*"
                extensions=""
                services="COMPUTER,WEBCAM"
                path="/productimages/"
                access="public"
                imagemanipulations="true"
                imagedim="167,94"
                imagecropui="true"
                imagecropforce="true"
                imagecropratio="16/9"

                callback="vm.productImageUploaded(file)"
                >
              </filepickermodal>
              <div>

                <img class="img img-responsive" src="{{vm.newproduct.image}}" />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Full Image</label>
            <div class="col-md-10">
              <filepickermodal
                pickerclass="btn btn-info"
                iconclass="glyphicon glyphicon-picture"
                buttontext="Upload and crop image"
                multiple="false"
                folders="false"
                mimetypes="image/*"
                extensions=""
                services="COMPUTER,WEBCAM"
                path="/productimages/"
                access="public"
                imagemanipulations="true"
                imagedim="800,446"
                imagecropui="true"
                imagecropforce="true"
                imagecropratio="16/9"

                callback="vm.productFullImageUploaded(file)"
                >
              </filepickermodal>
              <div>

                <img class="img img-responsive" src="{{vm.newproduct.fullimage}}" />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="name" class="col-md-2 control-label">Location</label>
            <div class="col-md-10">
              <input ng-model="vm.newproduct.location"  type="text" class="form-control" placeholder="Location" value="{{vm.newproduct.location}}">
            </div>
          </div>




        </form>


      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-success" id="saveProductBtn" ng-click="vm.saveNewProduct();">Save</button>
      </div>
    </div>

  </div>
</div>



<button class="btn btn-success btn-lg" ng-click="vm.addProduct();"><span class="glyphicon glyphicon-plus"></span> New Product</button>

<hr />

<table class="table table-hover">
  <tr>
    <th>
      #
    </th>
    <th>
      Name
    </th>
    <th>
      Category
    </th>
    <th>
      Type
    </th>
    <th>
      Image
    </th>
    <th>
      Actions
    </th>


  </tr>
  <tr ng-repeat="product in vm.products">
    <td>
      {{product.id}}
    </td>
    <td>
      {{product.name}}
    </td>
    <td>
      {{product.category.name}}
    </td>
    <td>
      {{product.type.name}}
    </td>
    <td>
      <img ng-show="product.image !=''" class="img-responsive" src="{{product.image}}" />
    </td>
    <td>
      <a ui-sref="products.view({productid: product.id})">
      <button class="btn btn-success">View</button>
      </a>
      <button class="btn btn-xs btn-danger" ng-click="vm.deleteProduct(product, $index);"><span class="glyphicon glyphicon-remove"></span></button>

    </td>
  </tr>
</table>
