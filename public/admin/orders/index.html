<div ng-controller="OrdersController as vm">

  <h1>Orders</h1>
  <hr />

  <form class="form-inline">
    <div class="form-group">
      <label for="search" class="sr-only">Search</label>
      <input type="text" class="form-control" id="search" placeholder="Search" ng-model="vm.searchquery">
    </div>
    <button type="submit" class="btn btn-default" ng-click="vm.doSearch();">Go!</button>
  </form>

  <hr />

  <table class="table table-hover">
    <tr>
      <th>#</th>
      <th>Email</th>
      <th>Amount</th>
      <th>Items</th>
      <th>Created</th>
      <th></th>
    </tr>

    <tr ng-repeat="order in vm.orders">
      <td>{{order.id}}</td>
      <td>{{order.email}}</td>
      <td>{{order.amount}}</td>
      <td>{{order.items.length}}</td>
      <td>{{order.created_at}}</td>
      <td>
        <a ui-sref="order({orderuid: order.orderuid})"><button class="btn btn-xs btn-primary">View</button></a>
      </td>
    </tr>

  </table>



  <nav>
    <ul class="pager">
      <li><button class="btn btn-sm btn-default" ng-click="vm.previouspage();">Previous</button></li>
      <li>Page {{vm.pagingdata.current_page}} of {{vm.pagingdata.last_page}} (Total {{vm.pagingdata.total}} results)</li>
      <li><button class="btn btn-sm btn-default" ng-click="vm.nextpage();">Next</button></li>
    </ul>
  </nav>



</div>
